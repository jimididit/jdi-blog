---
interface Props {
	faqs?: Array<{
		question: string;
		answer: string;
	}>;
}

const { faqs } = Astro.props;

// Only render schema if FAQs are provided
if (!faqs || faqs.length === 0) {
	return null;
}

// Generate FAQPage schema according to Schema.org specification
const faqSchema = {
	"@context": "https://schema.org",
	"@type": "FAQPage",
	"mainEntity": faqs.map((faq) => ({
		"@type": "Question",
		"name": faq.question,
		"acceptedAnswer": {
			"@type": "Answer",
			"text": faq.answer,
		},
	})),
};
---

{faqs && faqs.length > 0 && (
	<script type="application/ld+json" set:html={JSON.stringify(faqSchema)} />
)}
